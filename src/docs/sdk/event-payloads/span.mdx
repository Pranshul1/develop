---
title: Span Interface
---

The Span Interface specifies a series of _timed_ application events that have a start and end time.

A [Transaction](./transaction) may contain zero or more Spans in an attribute named `spans`.

This interface is an object with a single `values` attribute containing an
ordered list of Span objects. Spans in the list don't have to be ordered, they will be ordered
by start / end time on the Server.

While Span attributes will be normalized on the server, a Span is most
useful when it includes at least a `op` and `description`.

## Attributes

`span_id`: 

: _Required_. A string with a length of 16 characters. This should be the first 16 characters of a UUID4 id. (without dashes)

Example: `99659d76b7cdae94`

`parent_span_id`: 

: _Optional_. If this Span should be rendered as a child of another Span, set this property to the id of the parent.

Example: `b0e6f15b45c36b12`

`trace_id`: 

: _Required_. Determines to wich `trace` the Span belonges to.

Example: `1e57b752bc6e4544bbaa246cd1d05dee`

`transaction`: 

: _Optional/Required_. Set the `transaction` to give your tree of spans a dedicated name.

Example: `/users/detail/:id`

`sampled`:

: _Required_. Determines if the the Span should be send, if `!== true` it will be sampled and therefore not sent.

`op`:

: _Recommended_. Short code identifying the type of operation the span is measuring.
If no set we fallback to `default` on the Server.

Examples: `sql.query`, `react`, `http`, `http.get`

`description`:

: _Optional_. longer description of the Span's operation, often specific to that instance.

Examples: `SELECT * FROM users WHERE last_active < DATE_SUB(CURRENT_DATE, INTERVAL 1 YEAR)`, `<OrgContext />`

`start_timestamp`:

: _Required_. A timestamp representing when the measuring started. The
  format is either a string as defined in [RFC
  3339](https://tools.ietf.org/html/rfc3339) or a numeric (integer or float)
  value representing the number of seconds that have elapsed since the [Unix
  epoch](https://en.wikipedia.org/wiki/Unix_time).  

`timestamp`:

: _Required_. A timestamp representing when the measuring finished. The
  format is either a string as defined in [RFC
  3339](https://tools.ietf.org/html/rfc3339) or a numeric (integer or float)
  value representing the number of seconds that have elapsed since the [Unix
  epoch](https://en.wikipedia.org/wiki/Unix_time).

`status`:

: _Optional_. Describing the `status` of the Span. We use this property to determine if the [Transaction](./transaction)
ended in an error or not.

State|Description|HTTP status code equivalent
---|---|---
`ok`|Not an error, returned on success|200 and 2XX HTTP statuses
`cancelled`|The operation was cancelled, typically by the caller|499
`unknown`|An unknown error raised by APIs that don't return enough error information|500
`invalid_argument`|The client specified an invalid argument|400
`deadline_exceeded`|The deadline expired before the operation could succeed|504
`not_found`|Content was not found or request was denied for an entire class of users|404
`already_exists`|The entity attempted to be created already exists|409
`permission_denied`|The caller doesn't have permission to execute the specified operation|403
`resource_exhausted`|The resource has been exhausted e.g. per-user quota exhausted, file system out of space|429
`failed_precondition`|The client shouldn't retry until the system state has been explicitly handled|400
`aborted`|The operation was aborted|409
`out_of_range`|The operation was attempted past the valid range e.g. seeking past the end of a file|400
`unimplemented`|The operation is not implemented or is not supported/enabled for this operation|501
`internal`|Some invariants expected by the underlying system have been broken. This code is reserved for serious errors|500
`unavailable`|The service is currently available e.g. as a transient condition|503
`data_loss`|Unrecoverable data loss or corruption|500
`unauthenticated`|The requester doesn't have valid authentication credentials for the operation|401

`tags`:

: _Optional_. A map or list of tags for this Span. Each tag must be less than 200 characters.

```json
"tags": {
    "context": "production"
}
```

`data`:

: _Optional_. Arbitrary data associated with this Span.

```json
"data": {
    "url":"http://localhost:8080/sockjs-node/info?t=1588601703755",
    "status_code":200,
    "type":"xhr",
    "method":"GET"
}
```

## Examples

The following example illustrates the Span as part of the [Transaction](./transaction) and omits other attributes for simplicity.

```json
{
   "spans":[
      {
         "sampled":true,
         "start_timestamp":1588601261.481961,
         "description":"GET http://localhost:8080/sockjs-node/info?t=1588601703755",
         "tags":{
            "http.status_code":"200"
         },
         "timestamp":1588601261.488901,
         "parent_span_id":"b0e6f15b45c36b12",
         "trace_id":"1e57b752bc6e4544bbaa246cd1d05dee",
         "op":"http",
         "data":{
            "url":"http://localhost:8080/sockjs-node/info?t=1588601703755",
            "status_code":200,
            "type":"xhr",
            "method":"GET"
         },
         "span_id":"b01b9f6349558cd1"
      },
      {
         "sampled":true,
         "start_timestamp":1588601261.535386,
         "description":"Vue <App>",
         "timestamp":1588601261.544196,
         "parent_span_id":"9312d0d18bf51736",
         "trace_id":"1e57b752bc6e4544bbaa246cd1d05dee",
         "op":"update",
         "span_id":"b980d4dec78d7344"
      }
   ]
}
```
